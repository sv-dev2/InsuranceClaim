@model InsuranceClaim.Models.PreviewReceiptListModel
@{
    ViewBag.Title = "ReceiptModule";
    Layout = "~/Views/Shared/_InsuranceMain.cshtml";
}


<body>

    <div width="565" style="margin:0 auto; width:900px; font-family:arial;">
        <table width="565" border="0" cellspacing="0" cellpadding="5" style="border-collapse:collapse; width:100%">
            <tbody>
                <tr>
                    <th width="200" style="text-align:left;">
                        <img width="200" src="@Model.filepath/Images/geneinsure-logo1.png" style="width:290px;" />
                    </th>
                    <th align="right" style="text-align:right">
                        <div align="right" style="float:right">
                            <p style="font-size:12px; margin:0 0 3px 0;"><font size="2">Genetic Financial Services</font></p>
                            <p style="font-size:12px; margin:0 0 3px 0;"><font size="2">ZB Centre</font></p>
                            <p style="font-size:12px; margin:0 0 3px 0;"><font size="2">4th Floor South Wing</font></p>
                            <p style="font-size:12px; margin:0 0 3px 0;"><font size="2">cnr First Street & Kwame Nkrumah Avenue</font></p>
                            <p style="font-size:12px; margin:0 0 3px 0;"><font size="2">Harare</font></p>
                        </div>
                    </th>
                </tr>
                <tr>
                    <td align="right" width="250" style="width:50%; text-align:left;">
                        <p style="margin:0 0 3px; padding:0 0; font-size:14px; color:#444;"><font size="2">@Model.CustomerName</font></p>
                        <p style="margin:0 0 3px; font-size:14px; color:#444;"><font size="2">@Model.Address1</font></p>
                        <p style="margin:0 0 3px; font-size:14px; color:#444;"><font size="2">@Model.Address2</font></p>
                    </td>
                    <td width="250" style="width:50%; text-align:left; font-size:15px;  word-break: break-all">
                        <div align="right" style="float:right; text-align:right; font-size:15px;  word-break: break-all">
                            <p style="margin:0 0 3px; font-size:14px; color:#444; word-break: break-all"><font size="2">GENEINSURE CONTACT</font></p>
                            <p style="margin:0 0 3px; font-size:14px; color:#444; word-break: break-all"><font size="2">Call us on : +263 867 722 33 44</font></p>
                            <p style="margin:0 0 3px; font-size:14px; color:#444; word-break: break-all"><font size="2">Whatsapp us on : +263 719 884 884 /+263 732 884 884</font></p>
                            <p style="margin:0 0 3px; font-size:14px; color:#000; word-break: break-all"><font size="2"><strong>Email us on: service@gene.co.zw</strong></font></p>
                        </div>
                    </td>
                </tr>
            </tbody>

        </table>

        <br />
        <table width="100%" border="1" cellspacing="0" cellpadding="5" style="border-collapse:collapse">
            <tr><td bgcolor="#000" colspan="2" style="background: black;color: white;text-align: center; padding: 5px; border-right:1px solid #ddd">GeneInsure</td></tr>
            <tr><td style="width:50%; height:20px; border: none;"></td><td style="width:50%; height:20px; border: none;"></td></tr>
            <tr><td style="width:50%; padding: 0 5px; border: none;"><font size="2">Call Center</font></td><td style="width:50%;  border: none;"></td></tr>
            <tr><td style="width:50%; height:20px;border: none;"></td><td style="width:50%; height:20px;border: none;"></td></tr>
            <tr><td bgcolor="#000" colspan="2" style="background: black;color: white;text-align: center; padding: 5px;border: none;">Receipt</td></tr>
            <tr><td style="width:50%; height:20px; border: none;"></td><td style="width:50%; height:20px;border: none;"></td></tr>
            <tr><td style="width:50%; padding: 0 5px;border: none;"><font size="2">DATE</font></td><td align="left" style="width:50%; padding: 0 5px; text-align:right;border: none;"><font size="2">@Model.Date</font></td></tr>
            <tr><td style="width:50%; height:20px; border: none;"></td><td style="width:50%; height:20px; border: none;"></td></tr>
            <tr><td style="width:50%; padding: 0 5px; border: none;"><font size="2">Receipt Number</font></td><td align="left" style="width:50%; padding: 0 5px; text-align:right; border: none;"><font size="2">@Model.Id   </font></td></tr>
            <tr><td style="width:50%; height:20px; border: none;"></td><td style="width:50%; height:20px;border: none;"></td></tr>
            <tr><td style="width:50%; padding: 0 5px;border: none;"><font size="2">Account Name</font></td><td align="left" style="width:50%; padding: 0 5px; text-align:right;border: none;"><font size="2">@Model.CustomerName</font></td></tr>
            <tr><td style="width:50%; height:20px;border: none;"></td><td style="width:50%; height:20px;border: none;"></td></tr>
            <tr><td style="width:50%; padding: 0 5px;border: none;"><font size="2">Receipt Amount</font></td><td align="left" style="width:50%; padding: 0 5px; text-align:right;border: none;"><font size="2">$@Model.AmountPaid</font></td></tr>
            <tr><td style="width:50%; height:20px;border: none;"></td><td style="width:50%; height:20px;border: none;"></td></tr>
            <tr><td style="width:50%; padding: 0 5px;border: none;"><font size="2">Balance</font></td><td align="left" style="width:50%; padding: 0 5px; text-align:right;border: none;"><font size="2">$@Model.PaymentDetails</font></td></tr>
            <tr><td style="width:50%; height:20px;border: none;"></td><td style="width:50%; height:20px;border: none;"></td></tr>
           
            <tr><td style="width:50%; padding: 0 5px;border: none;"><font size="2">Transaction Reference</font></td><td align="left" style="width:50%; padding: 0 5px; text-align:right;border: none;"><font size="2">@Model.TransactionReference</font></td></tr>
            <tr><td style="width:50%; height:20px;border: none;"></td><td style="width:50%; height:20px;border: none;"></td></tr>
            
             <tr><td style="width:50%; padding: 0 5px;border: none;"><font size="2">Payment Type</font></td><td align="left" style="width:50%; padding: 0 5px; text-align:right;border: none;"><font size="2">@Model.paymentMethodType</font></td></tr>
            <tr><td style="width:50%; height:20px;border: none; border-bottom: 1px solid black"></td><td style="width:50%; height:20px;border: none; border-bottom: 1px solid black"></td></tr>
        </table>
        <table style="width:100%;">
            <tbody>
                <tr>
                    <td align="left" style="padding:20px 0 10px; color:#444; font-size:14px; text-align:left"><font size="2">Thank you.</font></td>
                </tr>
                <tr>
                    <td align="left" style="padding:0px 0 10px; color:#444; font-size:14px; text-align:left"><font size="2">Yours Sincerely</font></td>
                </tr>
                <tr>
                    <td align="left" style="padding: 0 5px;  word-break: break-all; text-align:left"> <img width="50" src="@Model.filepath/Images/Geneinsuresign.png" /></td>
                </tr>
                <tr>
                    <td align="left" style="padding:7px 0 10px; color:#444; font-size:14px; text-align:left;"><font size="2">GENERAL MANAGER – SALES</font></td>
                </tr>

            </tbody>
        </table>
        <div class="print-btn" style="display:none">
            <div class="col-md-1">
                <input type="button" id="btnPrint" value="Print" class="btn btn-primary" />
            </div>
            <div class="col-md-1">
                <input type="button" id="btnSendEmail" value="Send Email" class="btn btn-primary" />
            </div>
        </div>


    </div>





</body>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>
    $(document).ready(function () {
        $('#btnPrint').click(function () {
            window.print();
        });
        $('#btnSendEmail').click(function () {
            debugger;
            var id = '@ViewBag.CurrentSaveId';
            $.ajax({
                url: "/CustomerRegistration/SendEmail",
                type: "POST",
                async: false,
                dataType: "json",
                data: { Id: id },
                success: function (data) {

                    debugger;
                    if (data == "Success") {
                        //toastr.success("Mail Sent Sucessfully")
                        window.location.href = '@Url.Action("ReceiptModule", "CustomerRegistration")';

                    }
                }
            })
        });
    })
</script>